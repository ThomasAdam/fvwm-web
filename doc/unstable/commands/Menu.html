<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Menu</title><link rel="stylesheet" href="../style.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot_6661"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table border="0" cellpadding="0" cellspacing="0" width="100%"><tbody><tr>
<td align="left" valign="top"><a href="http://www.fvwm.org"><img src="../images/m.logo.png" align="left" border="0"></a></td>
<td class="postheader" valign="top">
	<a href="../index.html"><font class="header">Home</font></a> &#8901;
	<a href="../allCommands.html"><font class="header">All Commands</font></a> &#8901;
	<a href="../groupedCommands.html"><font class="header">Grouped Commands</font></a> &#8901;
	<a href="../modules.html"><font class="header">Modules</font></a> &#8901;
	<a href="http://www.fvwm.org/documentation/faq.html"><font class="header">FAQ</font></a>
</td>

<td align="right" valign="top"><a href="http://www.fvwm.org/"><img src="../images/fvwm.logo2.png" align="right" border="0"></a></td>
</tr></tbody></table>
<div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="Menu"></a>Menu</h2></div></div><hr></div><div class="cmdsynopsis"><p><code class="command">Menu</code>   <em class="replaceable"><code>menu-name</code></em>  [<em class="replaceable"><code>position</code></em>] [<em class="replaceable"><code>double-click-action</code></em>]</p></div><p>Causes a previously defined menu to be popped up in a sticky
manner.  That is, if the user invokes the menu with a click action
instead of a drag action, the menu stays up.  The command
<em class="replaceable"><code>double-click-action</code></em>
is invoked if the user double-clicks a button (or hits the key
rapidly twice if the menu is bound to a key) when bringing up the
menu.  If the double click action is not specified, double
clicking on the menu does nothing.  However, if the menu begins
with a menu item (i.e. not with a title or a separator) and the
double click action is not given, double clicking invokes the
first item of the menu (but only if the pointer really was over
the item).</p><p>The pointer is warped to where it was when the menu was invoked if
it was both invoked and closed with a keystroke.</p><p>The
<em class="replaceable"><code>position</code></em>
arguments allow placement of the menu somewhere on the screen, for
example centered on the visible screen or above a title bar.
Basically it works like this: you specify a
<em class="replaceable"><code>context-rectangle</code></em>
and an offset to this rectangle by which the upper left corner of
the menu is moved from the upper left corner of the rectangle.
The
<em class="replaceable"><code>position</code></em>
arguments consist of several parts:</p><div class="cmdsynopsis"><p>[<em class="replaceable"><code>context-rectangle</code></em>]  <em class="replaceable"><code>x</code></em>   <em class="replaceable"><code>y</code></em>  [<em class="replaceable"><code>special-options</code></em>]</p></div><p>The
<em class="replaceable"><code>context-rectangle</code></em>
can be one of:</p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><tbody><tr><td><a name="Menu_Root"></a><font class="fvwmopt">Root</font></td><td>the root window of the current screen.</td></tr><tr><td><a name="Menu_XineramaRoot"></a><font class="fvwmopt">XineramaRoot</font></td><td>the root window of the whole Xinerama screen.  Equivalent to "root" when Xinerama is not used.</td></tr><tr><td><a name="Menu_Mouse"></a><font class="fvwmopt">Mouse</font></td><td>a 1x1 rectangle at the mouse position.</td></tr><tr><td><a name="Menu_Window"></a><font class="fvwmopt">Window</font></td><td>the frame of the context window.</td></tr><tr><td><a name="Menu_Interior"></a><font class="fvwmopt">Interior</font></td><td>the inside of the context window.</td></tr><tr><td><a name="Menu_Title"></a><font class="fvwmopt">Title</font></td><td>the title of the context window or icon.</td></tr><tr><td><a name="Menu_Button"></a><font class="fvwmopt">Button</font>&lt;n&gt;</td><td>button #n of the context window.</td></tr><tr><td><a name="Menu_Icon"></a><font class="fvwmopt">Icon</font></td><td>the icon of the context window.</td></tr><tr><td><a name="Menu_Menu"></a><font class="fvwmopt">Menu</font></td><td>the current menu.</td></tr><tr><td><a name="Menu_Item"></a><font class="fvwmopt">Item</font></td><td>the current menu item.</td></tr><tr><td><a name="Menu_Context"></a><font class="fvwmopt">Context</font></td><td>the current window, menu or icon.</td></tr><tr><td><a name="Menu_This"></a><font class="fvwmopt">This</font></td><td>whatever widget the pointer is on (e.g. a corner of a window or the root window).</td></tr><tr><td><a name="Menu_Rectangle"></a><font class="fvwmopt">Rectangle</font> &lt;<em class="replaceable"><code>geometry</code></em>&gt;</td><td>the rectangle defined by &lt;<em class="replaceable"><code>geometry</code></em>&gt; in X geometry format.  Width and height default to 1 if omitted.</td></tr></tbody></table></div><p>If the context-rectangle is omitted or illegal (e.g. "item" on a
window), "Mouse" is the default.  Note that not all of these make
sense under all circumstances (e.g. "Icon" if the pointer is on a
menu).</p><p>The offset values
<em class="replaceable"><code>x</code></em>
and
<em class="replaceable"><code>y</code></em>
specify how far the menu is moved from it's default position.  By
default, the numeric value given is interpreted as a percentage of
the context rectangle's width (height), but with a trailing
'<a name="Menu_m"></a><font class="fvwmopt">m</font>'
the menu's width (height) is used instead.  Furthermore a trailing
'<a name="Menu_p"></a><font class="fvwmopt">p</font>'
changes the interpretation to mean pixels.</p><p>Instead of a single value you can use a list of values.  All
additional numbers after the first one are separated from their
predecessor by their sign.  Do not use any other separators.</p><p>If
<em class="replaceable"><code>x</code></em> or <em class="replaceable"><code>y</code></em>
are prefixed with "'<a name="Menu_o"></a><font class="fvwmopt">o</font>&lt;number&gt;" where &lt;number&gt; is an integer, the
menu and the rectangle are moved to overlap at the specified
position before any other offsets are applied.  The menu and the
rectangle are placed so that the pixel at &lt;number&gt; percent of the
rectangle's width/height is right over the pixel at &lt;number&gt;
percent of the menu's width/height. So "o0" means that the
top/left borders of the menu and the rectangle overlap, with
"o100" it's the bottom/right borders and if you use "o50" they are
centered upon each other (try it and you will see it is much
simpler than this description).  The default is "o0".  The prefix
"o&lt;number&gt;" is an abbreviation for "+&lt;number&gt;-&lt;number&gt;m".</p><p>A prefix of
'<a name="Menu_c"></a><font class="fvwmopt">c</font>'
is equivalent to "o50".  Examples:</p><pre class="programlisting">
# window list in the middle of the screen
<a href="../commands/WindowList.html">WindowList</a> Root c c

# menu to the left of a window
Menu name window -100m c+0

# popup menu 8 pixels above the mouse pointer
<a href="../commands/Popup.html">Popup</a> name mouse c -100m-8p

# somewhere on the screen
Menu name rectangle 512x384+1+1 +0 +0

# centered vertically around a menu item
<a href="../commands/AddToMenu.html">AddToMenu</a> foobar-menu
 + "first item" <a href="../commands/Nop.html">Nop</a>
 + "special item" <a href="../commands/Popup.html">Popup</a> "another menu" item +100 c
 + "last item" <a href="../commands/Nop.html">Nop</a>

# above the first menu item
<a href="../commands/AddToMenu.html">AddToMenu</a> foobar-menu
 + "first item" <a href="../commands/Popup.html">Popup</a> "another menu" item +0 -100m
</pre><p>Note that you can put a sub menu far off the current menu so you
could not reach it with the mouse without leaving the menu.  If
the pointer leaves the current menu in the general direction of
the sub menu the menu stays up.</p><p>The
<em class="replaceable"><code>special-options</code></em>:</p><p>To create a tear off menu without opening the normal menu, add the
option
<a name="Menu_TearOffImmediately"></a><font class="fvwmopt">TearOffImmediately</font>.
Normally the menu opens in normal state for a split second before
being torn off.  As tearing off places the menu like any other
window, a position should be specified explicitly:</p><pre class="programlisting">
# Forbid fvwm to place the menu window
<a href="../commands/Style.html">Style</a> &lt;name of menu&gt; UsePPosition
# Menu at top left corner of screen
Menu Root 0p 0p TearOffImmediately
</pre><p>The
<a href="../commands/MenuStyle.html#MenuStyle_Animated">Animated</a> and
<a href="../commands/MenuStyle.html#MenuStyle_Mwm">Mwm</a> or
<a href="../commands/MenuStyle.html#MenuStyle_Win">Win</a>
menu styles may move a menu somewhere else on the screen.  If you
do not want this you can add
<a name="Menu_Fixed"></a><font class="fvwmopt">Fixed</font>
as an option.  This might happen for example if you want the menu
always in the top right corner of the screen.</p><p>Where do you want a menu to appear when you click on it's menu
item? The default is to place the title under the cursor, but if
you want it where the position arguments say, use the
<a name="Menu_SelectInPlace"></a><font class="fvwmopt">SelectInPlace</font>
option.  If you want the pointer on the title of the menu, use
<a name="Menu_SelectWarp"></a><font class="fvwmopt">SelectWarp</font>
too.  Note that these options apply only if the
<a href="../commands/MenuStyle.html#MenuStyle_PopupAsRootMenu">PopupAsRootMenu</a> <a href="../commands/MenuStyle.html">MenuStyle</a>
option is used.</p><p>The pointer is warped to the title of a sub menu whenever the
pointer would be on an item when the sub menu is popped up
(<span class="emphasis"><em>fvwm</em></span>
menu style) or never warped to the title at all
(<a href="../commands/MenuStyle.html#MenuStyle_Mwm">Mwm</a> or
<a href="../commands/MenuStyle.html#MenuStyle_Win">Win</a>
menu styles).  You can force (forbid) warping whenever the
sub menu is opened with the
<a name="Menu_WarpTitle"></a><font class="fvwmopt">WarpTitle</font> (<a name="Menu_NoWarp"></a><font class="fvwmopt">NoWarp</font>) option.</p><p>Note that the
<em class="replaceable"><code>special-options</code></em>
do work with a normal menu that has no other position arguments.</p></div>
<HR>
<P>FVWM 2.5.22 (from cvs)</P>
</body></html>
