<?php
//--------------------------------------------------------------------
//-  File          : documentation/manpages/template.php
//-  Project       : FVWM Home Page
//-  Programmer    : Uwe Pross
//--------------------------------------------------------------------

// This is an autogenerated file, use manpages2php to create it.

//--------------------------------------------------------------------
// this manpages should not appear in the navigation structure
// so we hide its contents from navgen
//--------------------------------------------------------------------
if(isset($navigation_check)) return;

$rel_path = "../../..";

//--------------------------------------------------------------------
// load some global definitions
//--------------------------------------------------------------------
include_once("$rel_path/definitions.inc");

//--------------------------------------------------------------------
// Site definitions
//--------------------------------------------------------------------
$title          = "FVWM - Man page - fvwm-menu-headlines";
$heading        = "FVWM - Man page - fvwm-menu-headlines";
$link_name      = "Man page";
$link_picture   = "pictures/icons/doc_manpages";
$parent_site    = "documentation";
$child_sites    = array();
$requested_file = basename(my_get_global("PHP_SELF", "SERVER"));
$this_site      = "manpages";

//--------------------------------------------------------------------
// load the layout file
//--------------------------------------------------------------------
if(!isset($site_has_been_loaded)) {
	$site_has_been_loaded = "true";
	include(sec_filename($layout_file));
	exit();
}
?>

<?php decoration_window_start("Manual page for fvwm-menu-headlines in unstable branch (2.5.8)"); ?>

<H1>FVWM-MENU-HEADLINES</H1>
Section: FVWM Utilities (1)<BR>Updated: 2003-07-08<BR><A HREF="#index">This page contents</A>
 - <a href="<?php echo conv_link_target('./');?>">Return to main index</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

fvwm-menu-headlines - builds headlines menu definition for FVWM
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<A NAME="ixAAC"></A>
<B><u>fvwm-menu-headlines</u></B>
[ <B>--help</B>|<B>-h</B>|<B>-?</B> ]
[ <B>--version</B>|<B>-V</B> ]
[ <B>--info</B> [site] ]
[ <B>--site</B>|<B>-s</B> site ]
[ <B>--name</B>|<B>-n</B> name ]
[ <B>--title</B>|<B>-t</B> title ]
[ <B>--item</B> item ]
[ <B>--exec</B>|<B>-e</B> exec-command ]
[ <B>--command</B>|<B>-e</B> fvwm-command ]
[ <B>--icon-title</B> icon ]
[ <B>--icon-item</B> icon ]
[ <B>--icon-home</B> icon ]
[ <B>--icon-error</B> icon ]
[ <B>--wm-icons</B> ]
[ <B>--frontpage</B> [where] ]
[ <B>--proxy</B>|<B>-p</B> host:port ]
[ <B>--file</B> [file] ]
[ <B>--fake</B> [file] ]
[ <B>--timeout</B> seconds ]
<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<A NAME="ixAAD"></A>
This configurable perl script builds an fvwm menu definition for headlines
of popular news web sites: FreshMeat, Slashdot, LinuxToday, LinuxApps,
DaemonNews, GNOME-News, KDE-News, RootPrompt,
LinuxFr, ThinkGeek, <FONT>CNN</FONT>, <FONT>BBC</FONT> and more.
<P>

It is possible to specify a customized menu item format, change a command
(usually launching a browser) and add menu icons (there is a support for
the wm-icons package).
<A NAME="lbAE">&nbsp;</A>
<H2>OPTIONS</H2>

<A NAME="ixAAE"></A>
<DL COMPACT>
<DT><B>--help</B><DD>
<A NAME="ixAAF"></A>
show the help and exit
<DT><B>--version</B><DD>
<A NAME="ixAAG"></A>
show the version and exit
<DT><B>--info</B> [site]<DD>
<A NAME="ixAAH"></A>
if site name is given print the site specific info,
otherwise print all site names
<DT><B>--site</B> site<DD>
<A NAME="ixAAI"></A>
defile a web site, headlines of which to show, this option
also can be used together with --help to get new defaults.
Default site: freshmeat.
<DT><B>--name</B> name<DD>
<A NAME="ixAAJ"></A>
define menu name (default is ``MenuHeadlinesFreshmeat'')
<DT><B>--title</B> title<DD>
<A NAME="ixAAK"></A>
define menu title (default is ``Freshmeat Headlines'').
<DT><B>--item</B> label-format<DD>
<A NAME="ixAAL"></A>

<DT><B>--exec</B> command-format<DD>
<A NAME="ixAAM"></A>

define format for menu item or command (what is shown and what is
executed when the item is chosen).
Default label is '%h\t%[(%Y-%m-%d <TT>%H:</TT>%M)]'.
<FONT>TAB</FONT> can be specified as '\t', but in .fvwm2rc you should specify a double
backslash or a real <FONT>TAB</FONT>.


<P>


Format specifiers for a headline format:


<P>


<blockquote><pre>  %h - headline
  %u - url
  %d - date in the native format (that site backend supplied)
  %[strftime-argument-string] - date/time, see <A HREF="http://localhost/cgi-bin/man/man2html/3+strftime">strftime</A>(3)
    the date/time is represented accourding to the local time;
    date and/or time fields that can't be guessed are stripped
    Example: %[|%d %B %Y| %H:%M %S]
      If site supplied only date - this becomes %[|%d %B %Y|],
      if site supplied no date - this becomes an empty string.
  %{name} - site specific named value, like %{comments}
  %(text) - arbitrary text, good for escaping or aligning</pre></blockquote>


<P>


These specifiers can receive an optional integer size, positive for right
adjusted string or negative for left adjusted, example: <TT>%8x</TT>; and optional
*num or *-num, which means to leave only the first or last (if minus) num of
chars, the num must be greater than 3, since the striped part is replaced
with ``...'', example: %*30x. Both can be combined: %-10*-20x, this instructs to
get only the 20 last characters, but if the length is less then 10 - to fill
with up to 10 spaces on the right.
<DT><B>--command</B> command-format<DD>
<A NAME="ixAAN"></A>
like <B>--exec</B> above, but enables to specify any fvwm command,
for example, ``Function FuncFvwmShowURL '%u''' not only Exec.


<P>


In fact, --exec=``mozilla '%u''' is equivalent
to --command=``Exec mozilla '%u'''
<DT><B>--icon-title</B> icon<DD>
<A NAME="ixAAO"></A>

<DT><B>--icon-item</B> icon<DD>
<A NAME="ixAAP"></A>
<DT><B>--icon-home</B> icon<DD>
<A NAME="ixAAQ"></A>
<DT><B>--icon-error</B> icon<DD>
<A NAME="ixAAR"></A>

define menu icon for title, regular item, frontpage item and error item
respectively. Default is no menu icons (equivalent to an empty icon argument).
<DT><B>--wm-icons</B><DD>
<A NAME="ixAAS"></A>
define icon names suitable for use with wm-icons package.
Currently this is equivalent to: --icon-title '' --icon-item
menu/information.xpm --icon-home menu/home.xpm --icon-error menu/choice-no.xpm.
<DT><B>--frontpage</B> [where]<DD>
<A NAME="ixAAT"></A>
add the site frontpage item to the menu.
Optional value can be used to specify where this item will be placed in
the menu - 'top' or 't', 'bottom' or 'b'.
<DT><B>--proxy</B> host[:port]<DD>
<A NAME="ixAAU"></A>
define a proxy to use.
Example: --proxy proxy.inter.net:3128
<DT><B>--file</B> [file]<DD>
<A NAME="ixAAV"></A>
write the menu output to specified file. If no filename is
given with this option (or empty filename), the default filename
<FONT>WORK_HOME/SITE</FONT>.menu is used. Without this option or with '-'
filename, the menu output is written to standard output.
<DT><B>--fake</B> [file]<DD>
<A NAME="ixAAW"></A>
don't connect to the host using <FONT>HTTP</FONT> protocol, instead,
read from <FONT>WORK_HOME/SITE</FONT>.in file. The following reads input from
freshmeat.in (downloaded <A HREF="http://freshmeat.net/backend/recentnews.txt)">http://freshmeat.net/backend/recentnews.txt)</A> and
saves output to segfault.menu (both files are in <FONT>WORK_HOME</FONT>):
<BR>&nbsp;&nbsp;fvwm-menu-headlines&nbsp;--site&nbsp;freshmeat&nbsp;--fake&nbsp;--file
<DT><B>--timeout</B> seconds<DD>
<A NAME="ixAAX"></A>
limit a line reading from a socket to this timeout,
the default timeout is 20 seconds.
</DL>
<P>

<FONT>WORK_HOME</FONT> of this script is ~/.fvwm/.fvwm-menu-headlines.
It is created if needed.
<P>

Option parameters can be specified either using '=' or in the next argument.
Short options are ok if not ambiguous: <TT>&quot;-h&quot;</TT>, <TT>&quot;-t&quot;</TT>; but be careful with
short options, what is now unambiguous, can become ambiguous in the next
versions.
<A NAME="lbAF">&nbsp;</A>
<H2>USAGE</H2>

<A NAME="ixAAY"></A>
1. One of the ways to use this script is to define a crontab
entry to run the script every hour or so for every monitored site:
<P>

<blockquote><pre>  0,30 * * * * fvwm-menu-headlines --file --site freshmeat
  1,31 * * * * fvwm-menu-headlines --file --site linuxtoday
  2,32 * * * * fvwm-menu-headlines --file --site slashdot</pre></blockquote>
<P>

Then add these lines to your fvwm configuration file:
<P>

<blockquote><pre>  DestroyFunc FuncFvwmMenuHeadlines
  AddToFunc   FuncFvwmMenuHeadlines
  + I Read &quot;$HOME/.fvwm/.fvwm-menu-headlines/$0.menu&quot;</pre></blockquote>
<P>

<blockquote><pre>  DestroyMenu MenuHeadlines
  AddToMenu   MenuHeadlines &quot;Headlines&quot; Title
  + MissingSubmenuFunction FuncFvwmMenuHeadlines
  + &quot;FreshMeat&quot;  Popup freshmeat
  + &quot;LinuxToday&quot; Popup linuxtoday
  + &quot;Slashdot&quot;   Popup slashdot</pre></blockquote>
<P>

2. Another way to use this script (only if you have fast network/proxy) is to
run it every time you want to open your Headlines submenus.
(Note, the submenu that is once created is not reloaded, use ``Reset all''.)
<P>

In this case your fvwm configuration lines could be:
<P>

<blockquote><pre>  DestroyFunc FuncFvwmMenuHeadlines
  AddToFunc   FuncFvwmMenuHeadlines
  + I PipeRead &quot;fvwm-menu-headlines --site $0&quot;</pre></blockquote>
<P>

<blockquote><pre>  DestroyMenu MenuHeadlines
  AddToMenu   MenuHeadlines &quot;Headlines&quot; Title
  + MissingSubmenuFunction FuncFvwmMenuHeadlines
  + &quot;FreshMeat&quot;  Popup freshmeat
  + &quot;Slashdot&quot;   Popup slashdot
  + &quot;LinuxToday&quot; Popup linuxtoday
  + &quot;GNOME News&quot; Popup gnome-news
  + &quot;KDE News&quot;   Popup kde-news
  + &quot;&quot; Nop
  + &quot;Reset all&quot;  FuncResetHeadlines</pre></blockquote>
<P>

<blockquote><pre>  DestroyFunc FuncResetHeadlines
  AddToFunc   FuncResetHeadlines
  + I DestroyMenu freshmeat
  + I DestroyMenu linuxtoday
  + I DestroyMenu slashdot
  + I DestroyMenu gnome-news
  + I DestroyMenu kde-news</pre></blockquote>
<P>

And finally, add ``Popup MenuHeadlines'' somewhere.
<P>

3. Here is a usual usage. Use FvwmConsole or FvwmCommand to run fvwm commands
from a shell script. Every time you want headlines from some site, execute
(give any additional options if you want):
<P>

<blockquote><pre>  PipeRead &quot;fvwm-menu-headlines --site newsforge --name MenuHeadlinesNewsForge&quot;
  # this may take several seconds, you may use: BusyCursor Read true
  Popup MenuHeadlinesNewsForge</pre></blockquote>
<A NAME="lbAG">&nbsp;</A>
<H2>HOW TO ADD SITE HEADLINES</H2>

<A NAME="ixAAZ"></A>
It is possible to add user defined site headlines without touching the script
itself. Put your perl extensions to the file WORK_HOME/extension.pl.
For each site add something similar to:
<P>

<blockquote><pre>  $siteInfo-&gt;{'myslashdot'} = {
    'name' =&gt; &quot;MySlashdot&quot;,
    'host' =&gt; &quot;myslashdot.org&quot;,
    'path' =&gt; &quot;/myslashdot.xml&quot;,
    'func' =&gt; \&amp;processMySlashdot,
    # the following string is only used in --info
    'flds' =&gt; 'time, title, department, topic, author, url',
  };</pre></blockquote>
<P>

<blockquote><pre>  sub processMySlashdot () {
    return processXml(
      'story',
      # mandatory 'h', 'u' and 'd' aliases or undef
      { 'h' =&gt; 'title', 'u' =&gt; 'url', 'd' =&gt; 'time' },
      sub ($) {  # convert 'd' string to (y, m, d, H, M, S)
        $_[0] =~ /(\d+)-(\d+)-(\d+) (\d+):(\d+):(\d+)/;
        ($1, ($2 || 0) - 1, $3, $4, $5, $6);
      }, +0,  # timezone offset; already in UTC
    );
  }</pre></blockquote>
<P>

<blockquote><pre>  1;</pre></blockquote>
<A NAME="lbAH">&nbsp;</A>
<H2>AUTHORS</H2>

<A NAME="ixABA"></A>
This script is inspired by WMHeadlines v1.3 by:
<P>

<blockquote><pre>  Jeff Meininger &lt;<A HREF="mailto:jeffm@boxybutgood.com">jeffm@boxybutgood.com</A>&gt;
  (<A HREF="http://rive.boxybutgood.com/WMHeadlines/).">http://rive.boxybutgood.com/WMHeadlines/).</A></pre></blockquote>
<P>

Reimplemented for <FONT>FVWM</FONT> and heavily enhanced by:
<P>

<blockquote><pre>  Mikhael Goikhman &lt;<A HREF="mailto:migo@homemail.com">migo@homemail.com</A>&gt;, 16 Dec 1999.</pre></blockquote>
<A NAME="lbAI">&nbsp;</A>
<H2>COPYING</H2>

<A NAME="ixABB"></A>
The script is distributed by the same terms as fvwm itself.
See <FONT>GNU</FONT> General Public License for details.
<A NAME="lbAJ">&nbsp;</A>
<H2>BUGS</H2>

<A NAME="ixABC"></A>
Report bugs to <A HREF="mailto:fvwm-bug@fvwm.org">fvwm-bug@fvwm.org</A>.
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">OPTIONS</A><DD>
<DT><A HREF="#lbAF">USAGE</A><DD>
<DT><A HREF="#lbAG">HOW TO ADD SITE HEADLINES</A><DD>
<DT><A HREF="#lbAH">AUTHORS</A><DD>
<DT><A HREF="#lbAI">COPYING</A><DD>
<DT><A HREF="#lbAJ">BUGS</A><DD>
</DL>
<HR>
This document was created by
man2html,
using the manual pages.<BR>
Time: 00:48:09 GMT, November 01, 2003


<?php decoration_window_end(); ?>

<!-- Automatically generated by manpages2php on 01-Nov-2003 -->
